{% extends "base.html" %}
{% load static %}
<!--load humanize -->
{% load humanize %}
{% block title %} | {{listing.title}}{% endblock title %}
<!-- About main content -->
{% block content %}

<br/>
<br/>

<div style="
    width: 100%;
    min-height: 100vh;  
    background: url('{% static "img/listingspicture.png" %}') no-repeat center center;
    background-size: cover; 
    background-color: #ffffff9e;  
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    box-sizing: border-box;
">
    <div style="
        width: 100%;
        max-width: 800px; 
        background-color: #e8f9fc00; 
        padding: 30px;
        margin-right: 100px;
        border-radius: 12px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0);  
        position: relative;
        z-index: 10; 
    ">
        <div style=" margin-bottom: 20px;">
            <img class="card-img-top" 
                src="{{listing.company.logo.url}}" 
                alt="Company Logo"
                style="width: 200px; height: 200px; object-fit: contain; margin: 0 auto;">
        </div>
        
        <h1 class="card-subtitle text-black mb-2" 
        style="font-size: 30px; margin-bottom: 10px;">
        <a href="{% url 'companies:company' listing.company.id %}" style="color: #212529; ">
        {{listing.company}}
        </a>
        </h1>
        
        <h1 style="font-size: 20px; margin-bottom: 15px; color: #141414;">{{listing.title}}</h1>
        
        <h4 style="font-size: 20px; margin: 8px 0;">
            <p class="mb-0">Budget: {{listing.budget}}</p>
        </h4>
        
        <h4 style="font-size: 20px; margin: 8px 0;">
            <p>Duration: {{listing.duration}}</p>
        </h4>
        
        <h3 style="font-size: 22px; margin: 15px 0 8px 0;">
            <strong>Description: </strong>
        </h3>
        
        <h3 style="font-size: 20px; line-height: 1.6; color: #141414; margin-bottom: 15px;">
            <p>{{listing.description}}</p>
        </h3>
        
        <h3 style="font-size: 22px; margin: 15px 0 8px 0;">
            <strong>Requirement: </strong>
        </h3>
        
        <h4 style="font-size: 20px; color: #141414; margin: 10px 0 20px 0;">
            <p>Published {{listing.publish_date|timesince}} ago</p>
        </h4>
        
        {% if user.is_authenticated %}
        <a href="{% url 'applies:apply' listing.id %}" 
           class="btn btn-outline-primary btn-lg"
           style="padding: 15px 30px; font-size: 25px;">
            Apply
        </a>
        {% else %}
        <a href="{% url 'accounts:login' %}?next={{ request.path }}" 
            class="btn btn-outline-primary btn-lg disabled" 
            title="Please login to apply for jobs"
            style="padding: 15px 30px; font-size: 25px; cursor: not-allowed;">
            Apply (Login Required)
        </a>
        {% endif %}
    </div>
</div>
<br/>
<br/>
</div>
</div>
{% endblock content %}